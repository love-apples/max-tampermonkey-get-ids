# Скрипт Tampermonkey для отображения ID чатов и контактов в MAX

Этот скрипт показывает ID чатов и контактов рядом с их названиями в веб-версии мессенджера MAX. Также добавляет возможность копирования ID через контекстное меню и кнопку для копирования ID профиля.

## Установка

1. Установите расширение [Tampermonkey](https://www.tampermonkey.net/) для вашего браузера
2. Откройте Tampermonkey и создайте новый скрипт
3. Скопируйте содержимое файла `max-chat-id-display.user.js` в редактор
4. Сохраните скрипт (Ctrl+S)

## Как работает

Скрипт автоматически:
- Находит все чаты и контакты в списке
- Получает ID из WebSocket сообщений (основной источник)
- Извлекает ID из URL при навигации
- Перехватывает fetch запросы для получения дополнительных данных
- Отображает ID рядом с названием чата/контакта в формате `[ID]`
- Добавляет кнопку "Скопировать ID" в контекстное меню (ПКМ на чате/контакте)
- Добавляет кнопку "Скопировать ID" в навигации для копирования ID профиля

## Особенности

- ✅ Отображение ID чатов и контактов рядом с их названиями
- ✅ Копирование ID через контекстное меню (ПКМ)
- ✅ Кнопка копирования ID профиля в навигации
- ✅ Автоматическое обновление при добавлении новых чатов/контактов
- ✅ Работает с динамически загружаемым контентом (SPA)
- ✅ Перехватывает WebSocket сообщения для получения актуальных данных
- ✅ Перехватывает навигацию для получения ID из URL
- ✅ Анализирует сетевые запросы для извлечения ID

## ⚠️ Предупреждение и риски

**Использование этого скрипта осуществляется на ваш собственный риск.**

### Потенциальные риски:

1. **Нарушение Terms of Service** — многие сервисы, включая MAX, могут запрещать модификацию клиентской части приложения или использование автоматизации. Использование этого скрипта может формально нарушать правила использования сервиса.

2. **Блокировка аккаунта** — хотя риск крайне низок для скриптов, которые только читают и отображают данные (не отправляют запросы и не автоматизируют действия), теоретически сервис может обнаружить использование скрипта и применить санкции.

3. **Технические проблемы** — обновления интерфейса MAX могут сломать функциональность скрипта или привести к неожиданному поведению.

## Примечание

Если ID не удается получить автоматически, он будет показан после клика на чат (когда откроется URL с ID).

